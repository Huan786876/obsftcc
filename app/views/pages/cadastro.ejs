<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Cadastro - OBSF</title>
  <link rel="stylesheet" href="/css/style.css">
</head>
<body>
  <header>
    <nav aria-label="Navegação principal">
      <ul>
        <li><a class="active" href="/" aria-current="page">Início</a></li>
        <li><a href="/sobrenos">Sobre Nós</a></li>
        <li><a href="/projetos">Projetos</a></li>
        <li><a href="/como-ajudar">Como Ajudar</a></li>
        <li><a href="/contato">Contato</a></li>
        <li><a href="/login">Login</a></li>
        <li><a href="/lojinha">Lojinha</a></li>
      </ul>
    </nav>
  </header>

  <main>
    <section aria-labelledby="titulo-Cadastre-se">
      <header>
        <h1 id="titulo-Cadastre-se">Cadastre-se</h1>
        <p>Crie uma conta para participar dos nossos projetos</p>
      </header>

      <% if (typeof errors !== 'undefined' && errors.length > 0) { %>
        <section class="error-messages" aria-live="assertive" aria-atomic="true">
          <h2>❌ Erro de Validação</h2>
          <ul>
            <% errors.forEach(function(error) { %>
              <li><%= error.msg %></li>
            <% }); %>
          </ul>
        </section>
      <% } %>

      <form method="post" action="/cadastro">
        <fieldset>
          <legend>Preencha os dados abaixo:</legend>

          <label for="nome">Nome completo</label>
          <input type="text" id="nome" name="nome" required 
                 placeholder="Digite seu nome"
                 pattern="[A-Za-zÀ-ú\s]+" 
                 title="O nome deve conter apenas letras e espaços."
                 autocomplete="name"
                 value="<%= typeof fields !== 'undefined' ? fields.nome : '' %>"> 
          
          <label for="telefone">Telefone</label>
          <input type="tel" id="telefone" name="telefone" required 
                 placeholder="(xx) xxxxx-xxxx"
                 pattern="\([0-9]{2}\)\s[0-9]{4,5}-[0-9]{4}"
                 title="Formato esperado: (XX) XXXX-XXXX ou (XX) XXXXX-XXXX"
                 autocomplete="tel"
                 value="<%= typeof fields !== 'undefined' ? fields.telefone : '' %>">

          <label for="email">E-mail</label>
          <input type="email" id="email" name="email" required placeholder="Digite seu e-mail"
                 value="<%= typeof fields !== 'undefined' ? fields.email : '' %>">

          <label for="senha">Senha</label>
          <input type="password" id="senha" name="senha" required 
                 placeholder="Digite sua senha"
                 minlength="8" 
                 title="A senha deve ter no mínimo 8 caracteres.">

          <button type="submit">Cadastrar</button>
        </fieldset>
      </form>
    </section>
  </main>
  
  <footer>
    <p>&copy; 2025 OBSF - Organização Brasileira Sem Fome.</p>
  </footer>
</body>
</html>